# Ayaki

## 说明

Ayaki是我编写的一个QQ Bot。Ayaki是我给她取的名字，日语名あやき，没有对应的汉字。当然，如果你学过日语，你就能知道，这三个假名可以拼成很多汉字，你们可以叫她“彩木”，“绫纪”，“绫绮”等等。每个人心中都可以有属于自己的Ayaki。

Ayaki的出生日期是2022年4月20日。

Ayaki的头像是我使用AI画的。

![Ayaki-Watermark.png](http://nas.hakubill.tech:1234/images/2022/02/27/Ayaki-Watermark.png)

## 更新记录&版本规划

- 4.2.0

    新增各种语音功能

- 4.1.0

    新增`/waifu`指令，支持新增的每日老婆功能

- 4.0.5 - 2022.7.14 - Newest

    删除对私信消息的支持

    调整多线程逻辑

    增加上传服务器脚本的shell脚本

- 4.0.4 - 2022.7.13

    修复了可能重复发送图片的问题

- 4.0.3

    将其他已有功能迁移到新SDK中

- 4.0.2

    关机和开机指令增加操作用户锁，只有管理员列表中的用户可以使用这两个命令

- 4.0.1

    新增关机和开机指令，支持关机模式功能

- 4.0.0

    更新SDK，并更换至`botpy`库提供服务。

- 3.5.6 - 2022.7.12

    新增了`/help`指令，用于提供帮助信息。

- 3.5.5 - 2022.7.5 - Stable

    更新优化了消息重发的机制

- 3.5.4 - 2022.7.4 

    新增了与`🍬🍬`和`土土`有关的表情包

- 3.5.3

    更新了"诸事不宜"的算法阈值

    修复了每日宜忌中可能出现重复内容的问题

- 3.5.2 - 2022.7.3

    更新了对于画师信息的获取和支持

- 3.5.1

    更新“诸事不宜”的算法

- 3.5.0

    新增签到和运势功能

- 3.4.4 - 2022.7.2

    更新图库域名

    更改图片压缩格式为`png`

- 3.4.3 - 2022.5.26

    `/info`指令返回的信息中增加运行平台的信息

    改进了部分日志记录的内容

- 3.4.2

    增加`shutdown`指令关机

- 3.4.1

    增加`/moyu`指令手动发送当天的摸鱼日历

- 3.4.0 - 2022.5.24

    每天上午9点自动发送每日摸鱼日历

    不再支持不包含`/`的指令

    取消对`seremain`指令的支持，使用`/info`指令替代

- 3.3.1

    修复了获取图库修改日期失败的问题

- 3.3.0

    对接官方指令API，可以直接在对话框输入`/`调出机器人指令列表

    增加`/info`指令显示当前程序相关的信息（仅管理员可用）

    增加`/ver`指令显示程序版本和图库版本（仅管理员可用）

    增加`/hello`指令发送打招呼内容，缺省状态下不再发送打招呼内容

- 3.2.2 - 2022.5.23

    修复了由于引入了图片标题导致的无法继续发送图片的问题

- 3.2.1  - 2022.5.15

    修复了日志中出现过多Title发现为空的提示的问题

- 3.2.0

    升级SDK版本到0.8.2，修复3.1.2中的问题

    筛选插画内容添加到图库

    发送图片时添加图片标题

    筛选已经在图库中的图片

    增加读取图库信息的模块

- 3.1.6 - 2022.5.10

    修复了当图片含有alpha通道时压缩失败的问题

- 3.1.5 - 2022.5.9

    增加了上传图片压缩失败的异常处理

- 3.1.4 - 2022.5.5

    改进了上传图片的压缩标准

    增加了上传图片的异常处理

- 3.1.3 - 2022.5.4

    增加了发送图片失败时的重传机制

    调整日志记录内容和格式

    回滚3.1.2的修复：Tencent提供的SDK（版本0.7.9）有问题，已经提交Issue

- 3.1.2 - 2022.5.2

    增大API的timeout响应时间，修复由于响应时间过长造成的消息发送失败

- 3.1.1

    完善日志记录

    修复了正常情况下使用`seremain`指令时返回异常的问题

- 3.1.0

    增加`seremain`指令用于返回图库剩余图片数量

    默认回复中添加当前版本信息

- 3.0.0 - 2022.5.1

    重写发送pixiv图片的逻辑，优化使用体验

- 2.0.0 - 2022.4.23

    支持使用`sese`指令返回pixiv上的日榜图片

- 1.0.2

    被动回复添加图片

    修改回复语言为中文

- 1.0.1 - 2022.4.22

    所有子频道中均可使用

    被动回复增加了回复msg_id

    增加了对私信的处理

- 1.0.0 - 2022.4.20

    在群聊中at后可以回复“Hello”和简单的自我介绍

    